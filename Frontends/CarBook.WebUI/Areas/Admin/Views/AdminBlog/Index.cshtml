@model List<ResultAllBlogsWithAuthorDto>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/AdminLayout/Index.cshtml";
    var layoutControl = "~/Views/AdminLayout/Index.cshtml";
    int count = 0;
}

<div class="page-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="page-title-box d-flex align-items-center justify-content-between">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Blog Listesi ve İşlemleri</h4>
                                    <p class="card-subtitle mb-4">
                                        Bloglarla ilgili silme, güncelleme ve blog listesi erişimini görebilirsiniz. Yeni blog ekleme işlemi admin tarafından yapılmamaktadır. Eğer blog ekleme işlemi yapmak isterseniz, sisteme yazar olarak giriş yapmanız gerekmektedir. Her yazar sadece kendi bloglarını düzenleyebilir. Bunun için uygulamada "Login/WriterLogin" sayfası üzerinden giriş yapabilirsiniz.
                                    </p>
                                    <div class="table-responsive">
                                        <table class="table mb-0">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Başlık</th>
                                                    <th>Yazar</th>
                                                    <th>Kategori</th>
                                                    <th>Oluşturulma Tarihi</th>
                                                    <th>Sil</th>
                                                    <th>Bloğu Aç</th>
                                                    <th>Blog Yorumları</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in Model)
                                                {
                                                    count++;
                                                    <tr>
                                                        <th>@count</th>
                                                        <td>@item.title</td>
                                                        <td>@item.authorName</td>
                                                        <td>@item.categoryID</td>
                                                        <td>@item.createdDate.ToShortDateString()</td>
                                                        <td><a href="/Admin/AdminBlog/RemoveBlog/@item.blogID" class="btn btn-danger">Sil</a></td>
                                                        <td><a href="/Blog/BlogDetail/@item.blogID" class="btn btn-secondary">Bloğu Aç</a></td>
                                                        <td><a href="/Admin/AdminComment/Index/@item.blogID" class="btn btn-warning">Blog Yorumları</a></td>
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>
                                        @if (ViewBag.ValueControl == 0)
                                        {
                                            <div class="mt-3">
                                                <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                                    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                                                        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                                                    </symbol>
                                                </svg>

                                                <div class="alert alert-danger d-flex align-items-center" role="alert">
                                                    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill" /></svg>
                                                    <div>
                                                        Herhangi bir blog bulunamadı. Lütfen veri girişi yapınız.
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        @if (layoutControl == Layout)
                                        {
                                            <div class="mt-3">
                                                <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                                    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                                                        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                                                    </symbol>
                                                </svg>

                                                <div class="alert alert-danger d-flex align-items-center" role="alert">
                                                    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill" /></svg>
                                                    <div>
                                                        Blog ekleme işlemini admin panelinden yapamazsınız. Bu işlemi tamamlayabilmek için lütfen yazar girişi ekranından devam ediniz. Yazar panelinden giriş yapıldığı durumlarda bu buton aktif duruma gelecektir.
                                                    </div>
                                                </div>
                                            </div>
                                            // Button not active
                                            <a href="/Admin/AdminBlog/CreateBlog/" class="btn btn-primary" onclick="return false;" disabled>Yeni Blog girişi</a>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





